<!DOCTYPE html>
<html>
<head>

    <title>Atlassian RMS</title>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <!-- Tell the browser to be responsive to screen width -->
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

    <meta http-equiv="Expire" content="-1"/>
    <meta http-equiv="Keywords" content="Atlassian RMS"/>
    <meta http-equiv="Reply-to" content="admin@a-rms.net"/>
    <meta http-equiv="Content-Language" content="Korean"/>
    <meta http-equiv="Last-Modified" content="Thu 01 Nov 2016 23:59:59"/>
    <meta http-equiv="Organization" content="www.a-rms.net"/>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
    <meta http-equiv="Cache-Control" content="no-cache"/>
    <meta http-equiv="Pragma" content="no-cache"/>
    <meta http-equiv="imagetoolbar" content="no"/>
    <meta http-equiv="content-Script-type" content="text/javascript"/>
    <meta http-equiv="content-Style-type" content="text/css"/>

    <meta name="robots" content="ALL, INDEX, FOLLOW"/>
    <meta name="Subject" content="Atlassian RMS"/>
    <meta name="Filename" content="ARMS.html"/>
    <meta name="Author-Date" content="31 Oct 16"/>
    <meta name="Date" content="31 Oct 16"/>
    <meta name="Author" content="LeeDongmin"/>
    <meta name="Other Agent" content="LeeDongMin"/>
    <meta name="Email" content="admin@a-rms.net"/>
    <meta name="Reply-To" content="admin@a-rms.net"/>
    <meta name="Project" content="Atlassian RMS"/>
    <meta name="Status" content="Draft"/>
    <meta name="Location" content="South Korea"/>
    <meta name="/distribution" content="aRMS"/>
    <meta name="Description" content="Standard Web Project"/>
    <meta name="verify-v1" content="Eal6+fiCjgKAZb5A6pRvSLmsh9NLF2AsqxqJrLuFoAs="/>
    <meta name="Revision" content="1.0"/>
    <meta name="Generator" content="eclipse 3.6.1"/>
    <meta name="Classification" content="Development,Deployment"/>
    <meta name="Copyright" content="CopyRight@aRMS. All Rights Reserved"/>
    <meta name="title" content="Atlassian RMS"/>
    <meta name="revisit-after" content="7 days"/>
    <meta name="siteinfo" content="http://www.a-rms.net/robots.txt"/>
    <meta name="HandheldFriendly" content="True"/>
    <meta name="MobileOptimized" content="320"/>

    <meta property="og:type" content="website">
    <meta property="og:title" content="Atlassian RMS">
    <meta property="og:url" content="http://www.a-rms.net/">
    <meta property="og:site_name" content="Atlassian RMS">

    <!-- favicon -->
    <link rel="icon" href="../dist/img/index/favicon.ico" type="image/x-icon"/>
    <link rel="shortcut icon" href="../dist/img/index/favicon.ico" type="image/x-icon"/>

    <!-- Bootstrap 3.3.7 -->
    <link rel="stylesheet" href="../bower_components/bootstrap/dist/css/bootstrap.min.css">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="../bower_components/font-awesome/css/font-awesome.min.css">
    <!-- Ionicons -->
    <link rel="stylesheet" href="../bower_components/Ionicons/css/ionicons.min.css">
    <!-- Theme style -->
    <link rel="stylesheet" href="../dist/css/ArmsLTE.css">
    <!-- AdminLTE Skins. Choose a skin from the css/skins folder instead of downloading all of them to reduce the load. -->
    <link rel="stylesheet" href="../dist/css/skins/skin-black-light-arms.css">
    <!-- Morris chart -->
    <link rel="stylesheet" href="../bower_components/morris.js/morris.css">
    <!-- jvectormap -->
    <link rel="stylesheet" href="../bower_components/jvectormap/jquery-jvectormap.css">
    <!-- Date Picker -->
    <link rel="stylesheet" href="../bower_components/bootstrap-datepicker/dist/css/bootstrap-datepicker.min.css">
    <!-- Daterange picker -->
    <link rel="stylesheet" href="../bower_components/bootstrap-daterangepicker/daterangepicker.css">
    <!-- bootstrap wysihtml5 - text editor -->
    <link rel="stylesheet" href="../plugins/bootstrap-wysihtml5/bootstrap3-wysihtml5.min.css">

    <link rel="stylesheet" href="../dist/css/ArmsAUI.css">

    <!--keycloak -->
    <script type="text/javascript" src='../dist/js/keycloak.js' charset="utf-8"></script>
    <script type="text/javascript" src='../dist/js/keycloak-login.js' charset="utf-8"></script>

    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
    <script src="../dist/js/html5shiv.js"></script>
    <script src="../dist/js/excanvas.js"></script>
    <![endif]-->

    <!-- ANALYTICS START -->
    <!-- https://www.google.com/analytics/settings/home?scid=18527803 web log Analyzer  -->
    <script type="text/javascript">
        //<![CDATA[
        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-18527803-1']);
        _gaq.push(['_trackPageview']);
        _gaq.push(['_trackPageLoadTime']);
        (function() {
            var ga = document.createElement('script');
            ga.type = 'text/javascript';
            ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(ga, s);
        })();
        //]]>
    </script>
    <!-- ANALYTICS END -->
    <!-- NAVER ANALYTICS START -->
    <script type="text/javascript" src="http://wcs.naver.net/wcslog.js"></script>
    <script type="text/javascript">
        if (!wcs_add) var wcs_add = {};
        wcs_add["wa"] = "1244b972beb34c";
        wcs_do();
    </script>
    <!-- NAVER ANALYTICS END -->

    <style>

    </style>
</head>
<body class="hold-transition sidebar-mini wysihtml5-supported skin-black-light">
<div class="wrapper">

    <header class="main-header" data-include="welcome/template-header.html"></header>

    <!-- Left side column. contains the logo and sidebar -->
    <aside class="main-sidebar" data-include="welcome/template-sidebar.html"></aside>

    <!-- Content Wrapper. Contains page content -->
    <div class="content-wrapper">

        <!-- Main content -->
        <section class="content">
            <div class="row">
                <div class="col-md-12">
                    <!-- Box Comment -->
                    <div class="box box-widget">
                        <div class="box-header with-border" data-include="ARMS-analysis-req-progress/template-box-header.html"></div>
                        <!-- /.box-header -->
                        <div class="box-body" data-include="ARMS-analysis-req-progress/template-box-body.html"></div>
                        <!-- /.box-body -->

                        <div class="col-md-12">
                            <div class="box box box-primary" style="padding-bottom: 3px">
                                <div class="row">
                                    <div id="chart-container" class="span8 offset2"></div>
                                </div>
                            </div>
                        </div>

                        <div class="box-footer box-comments" data-include="ARMS-analysis-req-progress/template-box-comments.html"></div>
                        <!-- /.box-comments -->
                        <div class="box-footer"data-include="ARMS-analysis-req-progress/template-box-footer.html"></div>
                        <!-- /.box-footer -->
                    </div>
                    <!-- /.box -->



                </div>
                <!-- /.col -->
            </div>
            <!-- /.row -->
        </section>
        <!-- /.content -->
        <footer class="copyrightLayer font12 pull-right" data-include="welcome/template-footer.html"></footer>
    </div>
    <!-- /.content-wrapper -->

</div>
<!-- ./wrapper -->
<!-- Control Sidebar -->
<div class="asideWrapper">
    <aside class="control-sidebar"></aside>
</div>
<!-- /.control-sidebar -->
<!-- Control Sidebar -->
<div class="leftAsideWrapper">
    <aside class="leftcontrol-sidebar"></aside>
</div>
<!-- /.control-sidebar -->

<!-- jQuery 3 -->
<script src="../bower_components/jquery/dist/jquery.min.js"></script>
<!-- jQuery UI 1.11.4 -->
<script src="../bower_components/jquery-ui/jquery-ui.min.js"></script>
<!-- Resolve conflict in jQuery UI tooltip with Bootstrap tooltip -->
<script>
    $.widget.bridge('uibutton', $.ui.button);
</script>
<!-- Bootstrap 3.3.7 -->
<script src="../bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
<!-- Morris.js charts -->
<script src="../bower_components/raphael/raphael.min.js"></script>
<script src="../bower_components/morris.js/morris.min.js"></script>
<!-- Sparkline -->
<script src="../bower_components/jquery-sparkline/dist/jquery.sparkline.min.js"></script>
<!-- jvectormap -->
<script src="../plugins/jvectormap/jquery-jvectormap-1.2.2.min.js"></script>
<script src="../plugins/jvectormap/jquery-jvectormap-world-mill-en.js"></script>
<!-- jQuery Knob Chart -->
<script src="../bower_components/jquery-knob/dist/jquery.knob.min.js"></script>
<!-- daterangepicker -->
<script src="../bower_components/moment/min/moment.min.js"></script>
<script src="../bower_components/bootstrap-daterangepicker/daterangepicker.js"></script>
<!-- datepicker -->
<script src="../bower_components/bootstrap-datepicker/dist/js/bootstrap-datepicker.min.js"></script>
<!-- Bootstrap WYSIHTML5 -->
<script src="../plugins/bootstrap-wysihtml5/bootstrap3-wysihtml5.all.min.js"></script>
<!-- Slimscroll -->
<script src="../bower_components/jquery-slimscroll/jquery.slimscroll.min.js"></script>
<!-- FastClick -->
<script src="../bower_components/fastclick/lib/fastclick.js"></script>
<!-- AdminLTE App -->
<script src="../dist/js/adminlte.min.js"></script>
<!-- AdminLTE for demo purposes -->
<script src="../dist/js/demo.js"></script>

<!-- JSTREE -->
<script type="text/javascript" src='../dist/js/jstree-v.pre1.0/_lib/jquery.cookie.js' charset="utf-8"></script>
<script type="text/javascript" src='../dist/js/jstree-v.pre1.0/_lib/jquery.hotkeys.js' charset="utf-8"></script>
<script type="text/javascript" src='../dist/js/jstree-v.pre1.0/jquery.jstree.js' charset="utf-8"></script>
<script type="text/javascript" src='../dist/js/jnotify_v2.1/jquery/jNotify.jquery.min.js' charset="utf-8"></script>
<link rel="stylesheet" type="text/css" href="../dist/js/jnotify_v2.1/jquery/jNotify.jquery.css" media="screen"/>
<!-- dataTable -->
<link rel="stylesheet" type="text/css" href="../dist/js/DataTables-1.10.16/media/css/jquery.dataTables.css" media="screen"/>
<link rel="stylesheet" type="text/css" href="../dist/js/DataTables-1.10.16/extensions/Responsive/css/responsive.dataTables.css" media="screen"/>
<script type="text/javascript" src='../dist/js/DataTables-1.10.16/media/js/jquery.dataTables.js' charset="utf-8"></script>
<script type="text/javascript" src='../dist/js/DataTables-1.10.16/extensions/Responsive/js/dataTables.responsive.js' charset="utf-8"></script>
<!-- Style Setting -->

<script src="http://code.highcharts.com/highcharts.js"></script>
<script src="http://code.highcharts.com/modules/exporting.js"></script>

<script type="text/javascript" src='../dist/js/pages/Chart.js' charset="utf-8"></script>
<script type="text/javascript" src='../dist/js/pages/jquery.isotope.min.js' charset="utf-8"></script>

<script>
    //<![CDATA[
    $(function () {
        includeLayout();

        $(".addressClick").click(function () {
            $(this).parent().siblings().removeClass("active")
            $(this).parent().addClass("active");
        });
    });
    function includeLayout() {
        var includeArea = $('[data-include]');
        var self, url;
        $.each(includeArea, function () {
            self = $(this);
            url = self.data("include");
            self.load(url, function () {
                self.removeAttr("data-include");
            });
        });
    }

    $(window).on({
        resize: function () {
            setHeightToAsideWrapper();
        },
        scroll: function () {
            setHeightToAsideWrapper();
        }
    });
    function setHeightToAsideWrapper() {
        if ( $( window ).outerWidth() > 767 ) {
            var Cheight = $(document).height() - 25;
            $('.asideWrapper').css({'height':Cheight+'px'});
        }else{
            $('.asideWrapper').css({'height':'100%'});
        }
    }
    //]]>
</script>

<script>
    function addCommas(nStr) {
        nStr += '';
        x = nStr.split('.');
        x1 = x[0];
        x2 = x.length > 1 ? '.' + x[1] : '';
        var rgx = /(\d+)(\d{3})/;
        while (rgx.test(x1)) {
            x1 = x1.replace(rgx, '$1' + ',' + '$2');
        }
        return x1 + x2;
    }

    function getInternetExplorerVersion()
    {
        var rv = -1; // Return value assumes failure.
        if (navigator.appName == 'Microsoft Internet Explorer')
        {
            var ua = navigator.userAgent;
            var re  = new RegExp("MSIE ([0-9]{1,}[\.0-9]{0,})");
            if (re.exec(ua) != null)
                rv = parseFloat( RegExp.$1 );
        }
        return rv;
    }

    (function($) {

        var oldIE = false;
        ieVersion = getInternetExplorerVersion();

        if (ieVersion > 0 && ieVersion < 9) {
            oldIE = true;
        }

        $(function() {

            var chartContainer = $('#chart-container'),
                oldIEChartContainer = $('#oldie-chart-image'),
                forestColor = '#2CA25F',
                notForestColor = '#E5F5F9',
                maxRadius = 60,
                padding = 20,
                padding2 = 0,
                width = 0,
                height = 0,
                html = '',
                chartBox;

            $('#radio').buttonset();

            $('#radio').find('input').on('click', function() {
                var value = this.value

                if ( ! oldIE) {
                    chartContainer.children('.chart-box').each(function() {
                        chartBox = $(this);

                        switch (value) {
                            case 'forestPercentage':
                                chartBox.find('.detail').text(chartBox.data('forest_percentage'));
                                break;

                            case 'land':
                                chartBox.find('.detail').text(chartBox.data('land_formatted'));
                                break;

                            case 'forest':
                                chartBox.find('.detail').text(chartBox.data('forest_formatted'));
                                break;
                        }
                    });

                    chartContainer.isotope({ sortBy : this.value });
                } else {
                    oldIEChartContainer.find('img').hide();
                    oldIEChartContainer.find('.' + value).show();
                }
            });

            if (oldIE) {
                oldIEChartContainer.find('.forestPercentage').show();
                return;
            }

            $.ajax({
                url: '/dist/js/pages/forest_rate.json',
                dataType: 'json',
                success: function(data) {

                    var items = data.items,
                        maxLand = 0;

                    items.sort(function(a, b) {
                        return b.land - a.land;
                    });
                    maxLand = items[0].land;

                    $.each(items, function(i) {
                        this.notForest = this.land - this.forest;
                        this.forestPercentage = (this.forest / this.land * 100).toFixed(1);
                        this.notForestPercentage = (100 - this.forestPercentage).toFixed(1);
                        this.forestFormatted = addCommas(this.forest);
                        this.landFormatted = addCommas(this.land);

                        radius = parseInt((Math.sqrt(this.land) / Math.sqrt(maxLand)) * maxRadius, 10) + padding;
                        padding2 = maxRadius - radius + padding;

                        html = '<div id="chart-box-' + (i + 1) + '" class="chart-box" data-land_formatted="' + this.landFormatted + 'ha" data-forest_formatted="' + this.forestFormatted + 'ha" data-forest_percentage="' + this.forestPercentage + '%">';
                        html += '<h2 style="top:' + padding2 + 'px;">' + this.location + '</h2>';
                        html += '<p class="land hidden">' + this.land + '</p>';
                        html += '<p class="forest hidden">' + this.forest + '</p>';
                        html += '<p class="forest-percentage hidden">' + this.forestPercentage + '</p>';
                        html += '<canvas id="chart-' + (i + 1) + '" class="chart" width="' + (radius * 2) + '" height="' + (radius * 2) + '" style="margin-top:-' + radius + 'px; margin-left:-' + radius + 'px;"></canvas>';
                        html += '<p class="detail" style="bottom:' + padding2 + 'px;">' + this.forestPercentage + '%</p>';
                        html += '</div>';

                        chartContainer.append(html);

                        new Chart(document.getElementById('chart-' + (i + 1)).getContext('2d')).Pie([
                            {
                                value: +(this.notForest),
                                color: notForestColor
                            },
                            {
                                value: +(this.forest),
                                color: forestColor
                            }
                        ]);

                    });

                    $('#chart-container').isotope({
                        itemSelector : '.chart-box',
                        sortBy : 'forestPercentage',
                        sortAscending : false,
                        layoutMode : 'masonry',
                        animationEngine: 'jquery',
                        getSortData : {
                            land : function ( $elem ) {
                                return parseInt($elem.find('.land').text(), 10);
                            },
                            forest : function ( $elem ) {
                                return parseInt($elem.find('.forest').text(), 10);
                            },
                            forestPercentage : function ( $elem ) {
                                return (+$elem.find('.forest-percentage').text()).toFixed(1);
                            }
                        }
                    });

                    $('.chart').show();
                }
            });

        });

    })(window.jQuery);
</script>
</body>
</html>